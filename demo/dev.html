<!DOCTYPE html>
<html
  lang="en"
  dir="ltr"
>

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <canvas
    id="live2d"
    class="live2d"
  ></canvas>
  <button
    type="button"
    onclick="waifu.startRandomMotion('shake', 2)"
    name="button"
  >shake</button>
  <script src="../lib/live2d.min.js"></script>
  <script src="../lib/Live2DFramework.js"></script>
  <script src="../lib/utils/MatrixStack.js"></script>
  <script src="../lib/utils/ModelSettingJson.js"></script>
  <script src="../lib/PlatformManager.js"></script>
  <script src="../lib/LAppModel.js"></script>
  <script src="../lib/index.js"></script>
  <script type="text/javascript">
    // loadLive2d('live2d','model/hakasen')
    var kaguya = {
      canvasId: 'live2d',
      baseUrl: 'https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/live2d/kaguya',
      modelUrl: 'https://cdn.jsdelivr.net/gh/kooritea/kooritea.github.io/live2d/kaguya/model.json',
      imageUrl: './model/kaguya',
      soundUrl: 'https://www.kooritea.cc/live2d/kaguya',
      // soundUrl: './model/kaguya',
      crossOrigin: false, // 是否允许跨域获取数据(前提是http header中已有允许的跨域字段) def:false
      interval: 15000, // 自动mation的开始时间点到下一个mation的开始点之间的间隔
      idle: 'idle', // 自动触发的mation
      width: "400", // html上的width属性优先级更高
      height: "400",// html上的height属性优先级更高
      globalollowPointer: true, // 全局跟随鼠标 def:false
      scaling: true, // 允许滚轮放大缩小 def:false
      debug: {
        DEBUG_LOG: true,
        DEBUG_MOUSE_LOG: false,
      },
      layout: { // 布局设置 这个优先级最高，然后到model.json(字段正确的话)，再到默认
        width: '',
        height: '',
        x: '',
        y: '',
        center_x: '',
        center_y: '',
        top: '',
        bottom: '',
        left: '',
        right: ''
      },
      view: {
        VIEW_MAX_SCALE: 2, // 最大缩放比例
        VIEW_MIN_SCALE: 0.8,// 最小缩放比例
        VIEW_LOGICAL_LEFT: -1,
        VIEW_LOGICAL_RIGHT: 1,
        VIEW_LOGICAL_MAX_LEFT: -2,
        VIEW_LOGICAL_MAX_RIGHT: 2,
        VIEW_LOGICAL_MAX_BOTTOM: -2,
        VIEW_LOGICAL_MAX_TOP: 2
      },
      binding: {
        head: { motion: ['flick_head', 'shake'], callback: function (hitArea, motionName, name) { console.log(hitArea); console.log(motionName); console.log(name) } },
        face: 'tap_face',
        breast: ['tap_breast', 'shake'],
        belly: 'tap_belly',
        leg: 'tap_leg'
      },
      autoLoadAudio: function () { console.log('音频加载完毕') },
      initModelCallback(waifu) {
        console.log(waifu)
        console.log('模型加载完毕')
        // waifu.startRandomMotion('shake',2)
      }
    }
    var model22 = {
      canvasId: 'live2d',
      baseUrl: './model/22',
      modelUrl: './model/22/model.json',
      crossOrigin: false, // 是否允许跨域获取数据(前提是http header中已有允许的跨域字段) def:false
      interval: 15000, // 自动mation的开始时间点到下一个mation的开始点之间的间隔
      idle: 'idle', // 自动触发的mation
      width: "400", // html上的width属性优先级更高
      height: "400",// html上的height属性优先级更高
      globalollowPointer: false, // 全局跟随鼠标 def:false
      scaling: true, // 允许滚轮放大缩小 def:false
      debug: {
        DEBUG_LOG: true,
        DEBUG_MOUSE_LOG: false,
      },
      layout: { // 布局设置 这个优先级最高，然后到model.json(字段正确的话)，再到默认
        width: '',
        height: '',
        x: '',
        y: '',
        center_x: '',
        center_y: '',
        top: '',
        bottom: '',
        left: '',
        right: ''
      },
      view: {
        VIEW_MAX_SCALE: 2, // 最大缩放比例
        VIEW_MIN_SCALE: 0.8,// 最小缩放比例
        VIEW_LOGICAL_LEFT: -1,
        VIEW_LOGICAL_RIGHT: 1,
        VIEW_LOGICAL_MAX_LEFT: -2,
        VIEW_LOGICAL_MAX_RIGHT: 2,
        VIEW_LOGICAL_MAX_BOTTOM: -2,
        VIEW_LOGICAL_MAX_TOP: 2
      },
      binding: {
        head: {
          motion: ['type_body'],
          callback: function (hitArea, motionName, name) {
            // console.log(hitArea);
            // console.log(motionName);
            // console.log(name)
            console.log('hint head callback: hentai');
          }
        },
      },
      autoLoadAudio: function () { console.log('音频加载完毕') },
      initModelCallback(waifu) {
        console.log(waifu)
        console.log('模型加载完毕')
        // waifu.startRandomMotion('shake',2)
      }
    }
    window.waifu = loadLive2d(kaguya)
  </script>
</body>

</html>